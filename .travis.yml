language: objective-c
osx_image: xcode6.4
xcode_project: YMCache.xcodeproj
xcode_scheme: YMCache-iOS
before_install:
- brew update || brew update
- brew install carthage || brew outdated carthage || brew upgrade carthage
- brew install xctool || brew outdated xctool || brew upgrade xctool
- gem install xcpretty --no-rdoc --no-ri --no-document --quiet
- gem install slather --no-rdoc --no-ri --no-document --quiet
- "./script/travis-codesign-setup.sh"
install:
- carthage bootstrap --verbose
after_install:
- "./script/travis-codesign-teardown.sh"
script:
- set -o pipefail && xctool test -project YMCache.xcodeproj -scheme YMCache-iOS -sdk
  iphonesimulator ONLY_ACTIVE_ARCH=NO GCC_INSTRUMENT_PROGRAM_FLOW_ARCS=YES GCC_GENERATE_TEST_COVERAGE_FILES=YES
  | xcpretty -c
- set -o pipefail && xctool test -project YMCache.xcodeproj -scheme YMCache-Mac -sdk
  macosx ONLY_ACTIVE_ARCH=NO GCC_INSTRUMENT_PROGRAM_FLOW_ARCS=YES GCC_GENERATE_TEST_COVERAGE_FILES=YES
  | xcpretty -c
- pod lib lint --quick
after_success:
- slather
env:
  global:
  - secure: NohdkQHpYeXd+xfCdydIVGy3oIzz3EZLNYA5DUBNbIS5gpy+CqeZAIsRfcRIXdoz+e/5hO3eV++mntZFsc8Eg1olY+WtE5e8zGnoRVeyxVLyzOobQuiowlCBEsHzLi04CQAWawZ+hup+9rGvM57lbpr4dFyolk5TuqpEp/QWDA9KlsxkYntQcv67jJ+h6/IUHFVUE/DU5SYdp2VEcouR+4oBzd1SZ50jsM7TljyioSE8IyXq2QaJCOGnkW/Ey7oBq+0ezZoaiqo774t1jpuqdXHOzhGenGamEg8WK81s6jJskWOBo6498NjAVGg/QdSf8yb34XL62eAnHrvlktANob2ojTbBqJDnRdkK1dxaXlgk+iZm9thPlzF4W6fDycW3q1QrZ04b09My3QiLZt+TMwf62wDIfXFrP7aV56lB83kxDdoNgIK/f2B8JtH3tB1AOx4lcdYkr3bsgeHr2KLEpwlsN9WHYSDUMXuXZ3TF3/29wT3zgG3T5CP2ORxnqLegCeiy3urNMiYPI8fjYeF6OVNLv1sQc+EBt/jGJNTY5JFcW0CzUmrrcT4AQ13Bp2jeH4PhMPoGC0SqPD7alhr95/iwniMR5ECnAC2AWm+Dj/HQrhURdRGg93XHl+i4FZQG27d7X3gweVN0fmS/pVIDHLFS3gng9fDl99H39qHc1JM=
  - secure: PJ8icwfgPGt063vUtwReNKe1tc06m+urxTQvJIQlyHHzeI+wyZwgmwEYcJ5DheRh+86DmqSA+w4ZzY0MsN/iSBWkQCFlD2LUO3rwVXBzrHrikU1KeC/qumhLl8fU2Wm1aLzBpLfKoU1Cf0mR4kH1p+Cf/tmA1u/dFSmv4/Bd0FzqxEyDmvrY5H0FQ+eQ0Pi7JFdkYn4Bk4cvvpbUMcNLhhrjFeDLC00ZDhVI2033GIRYLk3CHLGIvhLsmp0oWd8BJxLOlNguvLdeU0DBV/KAD5x9JqfAQbQm88S2wrKRQhX1Ld3TCJNKuy9t9TUuEeGL2fQh6o7AmcQAdpPf9CHk/+Hdyp7a1601Y/8Y2QJ2t/n+ZRyLpe1dy0k0ahJsdBgwKbo/HEmfbAbz8WMQMlp3d2n24diIxyHWiBVuGtMh2+SdBJ7WSPHAXQHAM5CfL1LGxKht3VCpD+wNlH6HZi+gmBgjb//9ekU8XB0zfPSs4e5DEltKYIR9w8uBS9tGzAX2oJqo24L93TASNCaBgdp3sTDKTLuiW+cAX8tCYiE/fvSN4BlDAfQbNVs7I3fMtD3/egktLoyQdyIa26yjvaiWxKOHawRguvM7W7YDp7kS9gA8GOPG1CKJh9NX01dng/0bqJqa0m0vnGppmE+nHK5O5yTt5qOntuBWgTF8WAEDd50=
  - secure: o1mLVlKJ77+/DQFDJf2t4yjEWaGgrYQ3Kx4XEHovZ/hGAr78+n3ZQwAMdb12zGGjz6+rnCScHX4M5w4jTVZ+jQ7rlHEuyAoiUN1nTFudympuf6tatyh80Ahx2T1Nj8X71/Wv78EBEeLxaCeKyVPTq9FCEZrq5Zj5V84C/RP1f0oGtmcy1nS4po4wygHVNtlibQTNg6EaQrzCIsa/VY7SOS8PAbFus/i5n79b1Gc2IY8DqZVMkNWFiXr4WsXxg/+wVMLvqDWSS4+6iVSpTqHzglqCruEDbrnE0DmDoadeIqLnoS+l3qOH+i/D9/bE++g4CtCIrxZVJTNBVi/UB5cJkKTHUOa4X0D7X6onZafYSdsO2QXHwi2mPhga83UOfzuiTCVzdnbeGWA5kAEXTG41/psIeUJJkHmhihm6eby5DyLKL+O4xPDECTi6cxpObz60Mdd62mV8bybKuZaFjnXT7b6QKsxWFY+JstjVr6e1TF7JEXgA2/YKlOZoH88Va+gRVytA5ix2iuHlomBYtWVr5QF0kyo1RifhRztCM3NlvKuxQHQFdtyYfB6v/nPueY58qNhbFgA/nXWpJPaUFshNUeQhlh1bheJIJ+xTg4xzSIAhP859tbRVv21OFIyBeaqTQRwzofS2L2Nt9dGkCMWH8OXNJFI3/XEqmo+/cXh6U7s=
  - secure: XkCTKP8lFKSlIZvnZRFWTNgF88buir7sp9ZQX5vz/u/b3fYPdl7DJbSXECcazI8HTOVk+ze9nvBaHKQEjUg2T3MsPkZAwz6O7fRpDJgABn/QdIk21HDZUt+Gv6eR7R9EehPUIEyRIhZc9vGDu0Xw30rgxCr8ZwkjAvkSmaopG6QVNINZaNPCjurH9tnYbB4O1t+f3Ir+QuXHMBSDZTaaO8xzq7j+r5Xi+uyAESJFrjTfgLYkjHg/2+2glt+F7ONDmxAp9OTqnd4uhmEzWoif2shdOWxeQI+QirxfrdrR71w5cFGPNmigJZO5lgL1AmY652/1t8e0xHSzpXohpDv1eUA8DfjQxwAT4Xjy3O+9CMLFoLn8uOfSxNTk6oXAOIFgkPvlKaoirLo5lKBZR6pVnfHNPEMyCUBdp0BXWZ/GdbiX7cGM4UcksAO1fnwKWwPaVJFSLuS41m3sioDU05MGz8rX+evCa0jz3EucSVYspk87vkEDoV9K6Yo6cngvXR+4fWW0IESE8fb1pIwiQUIV4wX1EOhVFCqDbc5ztqVZvtpgioiAJAWAYXplYmbdvNNB1cwy6LwHbVNHRnfNmrtNBiF4r4tAawfiTLLd8VEdxH/XLu4xhCTY9ZfmuCcOgz/OJ2N0Nn+erUih0GpERn36uFfHGalC7RI3Yk7Cll2OshI=
