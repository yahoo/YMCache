language: objective-c
osx_image: xcode6.4
xcode_project: YMCache.xcodeproj
xcode_scheme: YMCache-iOS
before_install:
- brew update || brew update
- brew install carthage || brew outdated carthage || brew upgrade carthage
- brew install xctool || brew outdated xctool || brew upgrade xctool
- gem install xcpretty --no-rdoc --no-ri --no-document --quiet
- gem install slather --no-rdoc --no-ri --no-document --quiet
- "./script/travis-codesign-setup.sh"
install:
- carthage bootstrap --verbose
after_install:
- "./script/travis-codesign-teardown.sh"
script:
- set -o pipefail && xctool test -project YMCache.xcodeproj -scheme YMCache-iOS -sdk
  iphonesimulator ONLY_ACTIVE_ARCH=NO GCC_INSTRUMENT_PROGRAM_FLOW_ARCS=YES GCC_GENERATE_TEST_COVERAGE_FILES=YES
  | xcpretty -c
- set -o pipefail && xctool test -project YMCache.xcodeproj -scheme YMCache-Mac -sdk
  macosx ONLY_ACTIVE_ARCH=NO GCC_INSTRUMENT_PROGRAM_FLOW_ARCS=YES GCC_GENERATE_TEST_COVERAGE_FILES=YES
  | xcpretty -c
- pod lib lint --quick
after_success:
- slather
env:
  global:
  - secure: NohdkQHpYeXd+xfCdydIVGy3oIzz3EZLNYA5DUBNbIS5gpy+CqeZAIsRfcRIXdoz+e/5hO3eV++mntZFsc8Eg1olY+WtE5e8zGnoRVeyxVLyzOobQuiowlCBEsHzLi04CQAWawZ+hup+9rGvM57lbpr4dFyolk5TuqpEp/QWDA9KlsxkYntQcv67jJ+h6/IUHFVUE/DU5SYdp2VEcouR+4oBzd1SZ50jsM7TljyioSE8IyXq2QaJCOGnkW/Ey7oBq+0ezZoaiqo774t1jpuqdXHOzhGenGamEg8WK81s6jJskWOBo6498NjAVGg/QdSf8yb34XL62eAnHrvlktANob2ojTbBqJDnRdkK1dxaXlgk+iZm9thPlzF4W6fDycW3q1QrZ04b09My3QiLZt+TMwf62wDIfXFrP7aV56lB83kxDdoNgIK/f2B8JtH3tB1AOx4lcdYkr3bsgeHr2KLEpwlsN9WHYSDUMXuXZ3TF3/29wT3zgG3T5CP2ORxnqLegCeiy3urNMiYPI8fjYeF6OVNLv1sQc+EBt/jGJNTY5JFcW0CzUmrrcT4AQ13Bp2jeH4PhMPoGC0SqPD7alhr95/iwniMR5ECnAC2AWm+Dj/HQrhURdRGg93XHl+i4FZQG27d7X3gweVN0fmS/pVIDHLFS3gng9fDl99H39qHc1JM=
  - secure: PJ8icwfgPGt063vUtwReNKe1tc06m+urxTQvJIQlyHHzeI+wyZwgmwEYcJ5DheRh+86DmqSA+w4ZzY0MsN/iSBWkQCFlD2LUO3rwVXBzrHrikU1KeC/qumhLl8fU2Wm1aLzBpLfKoU1Cf0mR4kH1p+Cf/tmA1u/dFSmv4/Bd0FzqxEyDmvrY5H0FQ+eQ0Pi7JFdkYn4Bk4cvvpbUMcNLhhrjFeDLC00ZDhVI2033GIRYLk3CHLGIvhLsmp0oWd8BJxLOlNguvLdeU0DBV/KAD5x9JqfAQbQm88S2wrKRQhX1Ld3TCJNKuy9t9TUuEeGL2fQh6o7AmcQAdpPf9CHk/+Hdyp7a1601Y/8Y2QJ2t/n+ZRyLpe1dy0k0ahJsdBgwKbo/HEmfbAbz8WMQMlp3d2n24diIxyHWiBVuGtMh2+SdBJ7WSPHAXQHAM5CfL1LGxKht3VCpD+wNlH6HZi+gmBgjb//9ekU8XB0zfPSs4e5DEltKYIR9w8uBS9tGzAX2oJqo24L93TASNCaBgdp3sTDKTLuiW+cAX8tCYiE/fvSN4BlDAfQbNVs7I3fMtD3/egktLoyQdyIa26yjvaiWxKOHawRguvM7W7YDp7kS9gA8GOPG1CKJh9NX01dng/0bqJqa0m0vnGppmE+nHK5O5yTt5qOntuBWgTF8WAEDd50=
